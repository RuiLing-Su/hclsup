<!--<!DOCTYPE html>-->
<!--<html>-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <meta http-equiv="X-UA-Compatible" content="IE=edge">-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<!--</head>-->
<!--<body>-->
<!--<script type="text/javascript" src="/wfs.js"></script>-->

<!--<div>-->
<!--    <label for="channelSelect">Select Channel (1-27):</label>-->
<!--    <select id="channelSelect">-->
<!--        &lt;!&ndash; Dynamically populate options &ndash;&gt;-->
<!--    </select>-->
<!--    <button onclick="playSelectedChannel()">Play</button>-->
<!--</div>-->

<!--<div class="wfsjs">-->
<!--    <video controls autoplay id="video1" width="100%" height="100%"></video>-->
<!--</div>-->

<!--<script type="text/javascript">-->
<!--    // Populate channel dropdown-->
<!--    window.onload = function () {-->
<!--        const channelSelect = document.getElementById('channelSelect');-->
<!--        for (let i = 1; i <= 27; i++) {-->
<!--            const option = document.createElement('option');-->
<!--            option.value = i;-->
<!--            option.text = `Channel ${i}`;-->
<!--            channelSelect.appendChild(option);-->
<!--        }-->

<!--        if (Wfs.isSupported()) {-->
<!--            initializeVideo();-->
<!--        }-->
<!--    };-->

<!--    let wfs; // Global WFS instance-->
<!--    function initializeVideo() {-->
<!--        const video1 = document.getElementById('video1');-->
<!--        video1.volume = 1;-->
<!--        wfs = new Wfs();-->
<!--    }-->

<!--    function playSelectedChannel() {-->
<!--        const channelSelect = document.getElementById('channelSelect');-->
<!--        const selectedChannel = channelSelect.value;-->
<!--        const video1 = document.getElementById('video1');-->
<!--        const id = GetQueryString("id") || '0'; // Default to 0 if not provided-->

<!--        // Detach previous media if any-->
<!--        if (wfs.media) {-->
<!--            wfs.destroy();-->
<!--            wfs = new Wfs();-->
<!--        }-->

<!--        const wsUrl = `ws://101.132.99.208:9090/websocket/${id}`;-->
<!--        const client = new WebSocket(wsUrl);-->

<!--        wfs.attachMedia(video1, `ch${selectedChannel}`, 'H264Raw', 'play2');-->
<!--        wfs.attachWebsocket(client, `ch${selectedChannel}`);-->
<!--    }-->

<!--    // Function to get query string parameter-->
<!--    function GetQueryString(name) {-->
<!--        const reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)");-->
<!--        const r = window.location.search.substr(1).match(reg);-->
<!--        return r ? unescape(r[2]) : null;-->
<!--    }-->
<!--</script>-->
<!--</body>-->
<!--</html>-->